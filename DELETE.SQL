USE GAMES_SALES_PLATFORM
GO

ALTER TABLE ICERIR 
WITH CHECK ADD CONSTRAINT FK_OYUN_ID5
FOREIGN KEY (OYUN_ID)
REFERENCES OYUN(OYUN_ID)
ON DELETE CASCADE

ALTER TABLE ICERIR CHECK CONSTRAINT FK_OYUN_ID5
GO

ALTER TABLE ODULLER 
WITH CHECK ADD CONSTRAINT FK_OYUN_ID4
FOREIGN KEY (OYUN_ID)
REFERENCES OYUN(OYUN_ID)
ON DELETE CASCADE

ALTER TABLE ODULLER CHECK CONSTRAINT FK_OYUN_ID4
GO

ALTER TABLE YORUMYAPAR 
WITH CHECK ADD CONSTRAINT FK_OYUN_ID3
FOREIGN KEY (OYUN_ID)
REFERENCES OYUN(OYUN_ID)
ON DELETE CASCADE

ALTER TABLE YORUMYAPAR CHECK CONSTRAINT FK_OYUN_ID3
GO

ALTER TABLE KAZANIR 
WITH CHECK ADD CONSTRAINT FK_BASARIM_ID
FOREIGN KEY (BASARIM_ID)
REFERENCES BASARIMLAR(BASARIM_ID)
ON DELETE CASCADE

ALTER TABLE KAZANIR CHECK CONSTRAINT FK_BASARIM_ID
GO

ALTER TABLE BASARIMLAR 
WITH CHECK ADD CONSTRAINT FK_OYUN_ID
FOREIGN KEY (OYUN_ID)
REFERENCES OYUN(OYUN_ID)
ON DELETE CASCADE

ALTER TABLE BASARIMLAR CHECK CONSTRAINT FK_OYUN_ID
GO

ALTER TABLE ANAHTAR 
WITH CHECK ADD CONSTRAINT FK_OYUN_ID2
FOREIGN KEY (OYUN_ID)
REFERENCES OYUN(OYUN_ID)
ON DELETE CASCADE

ALTER TABLE ANAHTAR CHECK CONSTRAINT FK_OYUN_ID2
GO

ALTER TABLE OYUN 
WITH CHECK ADD CONSTRAINT FK_BUNDLE_ID2
FOREIGN KEY (BUNDLE_ID)
REFERENCES BUNDLE(BUNDLE_ID)
ON DELETE CASCADE

ALTER TABLE OYUN CHECK CONSTRAINT FK_BUNDLE_ID2
GO

ALTER TABLE YORUMYAPAR 
WITH CHECK ADD CONSTRAINT FK_KULLANICI_ID4
FOREIGN KEY (KULLANICI_ID)
REFERENCES KULLANICI(KULLANICI_ID)
ON DELETE CASCADE
ALTER TABLE YORUMYAPAR CHECK CONSTRAINT FK_KULLANICI_ID4
GO

ALTER TABLE KAZANIR 
WITH CHECK ADD CONSTRAINT FK_KULLANICI_ID3
FOREIGN KEY (KULLANICI_ID)
REFERENCES KULLANICI(KULLANICI_ID)
ON DELETE CASCADE
ALTER TABLE KAZANIR CHECK CONSTRAINT FK_KULLANICI_ID3
GO

ALTER TABLE FATURA 
WITH CHECK ADD CONSTRAINT FK_KULLANICI_ID2
FOREIGN KEY (KULLANICI_ID)
REFERENCES KULLANICI(KULLANICI_ID)
ON DELETE CASCADE
ALTER TABLE FATURA CHECK CONSTRAINT FK_KULLANICI_ID2
GO

ALTER TABLE ANAHTAR 
WITH CHECK ADD CONSTRAINT FK_KULLANICI_ID
FOREIGN KEY (KULLANICI_ID)
REFERENCES KULLANICI(KULLANICI_ID)
ON DELETE CASCADE

ALTER TABLE ANAHTAR CHECK CONSTRAINT FK_KULLANICI_ID
GO

ALTER TABLE ICERIR 
WITH CHECK ADD CONSTRAINT FK_KATEGORI_ID
FOREIGN KEY (KATEGORI_ID)
REFERENCES KATEGORILER(KATEGORI_ID)
ON DELETE CASCADE

ALTER TABLE ICERIR CHECK CONSTRAINT FK_KATEGORI_ID
GO

ALTER TABLE OYUN 
WITH CHECK ADD CONSTRAINT FK_YAYIMCI_ID
FOREIGN KEY (YAYIMCI_ID)
REFERENCES YAYIMCI(YAYIMCI_ID)
ON DELETE CASCADE

ALTER TABLE OYUN CHECK CONSTRAINT FK_YAYIMCI_ID
GO

ALTER TABLE OYUN 
WITH CHECK ADD CONSTRAINT FK_YAPIMCI_ID
FOREIGN KEY (YAPIMCI_ID)
REFERENCES YAPIMCI(YAPIMCI_ID)
ON DELETE CASCADE

ALTER TABLE OYUN CHECK CONSTRAINT FK_YAPIMCI_ID
GO

--idsi 2 olan kullanýcý silindi
DELETE FROM KULLANICI WHERE KULLANICI_ID=2
--adý nurullah olan kullanýcý silindi.
DELETE FROM KULLANICI WHERE ADI = 'NURULLAH'
--emaili mail 3 olan kullanýcý silindi.
DELETE FROM KULLANICI WHERE EMAIL = 'MAIL 3'
--idsi 8 ve emaili mail 8 olan kullanýcý silindi.
DELETE FROM KULLANICI WHERE KULLANICI_ID = 8 AND EMAIL = 'MAIL 8'
--kullanýcý tablosunun içindekilerin hepsi silindi.
DELETE FROM KULLANICI

--websitesi yayýmcý site 1 olan yayýmcý silindi.
DELETE FROM YAYIMCI WHERE WEBSITE = 'YAYIMCI SITE 1'
--emaili yayýmcý mail 2 olan yayýmcý silindi.
DELETE FROM YAYIMCI WHERE EMAIL = 'YAYIMCI MAIL 2'
--idsi yayýmcý 5 olan yayýmcý silindi.
DELETE FROM YAYIMCI WHERE YAYIMCI_ID = 5
--1985-1-1 tarihinden sonra kurulan yayýmcýlar silindi.
DELETE FROM YAYIMCI WHERE KURULUS_TARIHI > '1985-1-1'
--yayýmcý tablosunun içinin tamamý silindi.
DELETE FROM YAYIMCI

--websitesi yapýmcý site 1 olan yayýmcý silindi.
DELETE FROM YAPIMCI WHERE WEBSITE = 'YAPIMCI SITE 1'
--emaili yapýmcý mail 2 olan yayýmcý silindi.
DELETE FROM YAPIMCI WHERE EMAIL = 'YAPIMCI MAIL 2'
--idsi yapýmcý 5 olan yayýmcý silindi.
DELETE FROM YAPIMCI WHERE YAPIMCI_ID = 5
--1985-1-1 tarihinden sonra kurulan yapýmcýlar silindi.
DELETE FROM YAPIMCI WHERE KURULUS_TARIHI > '1984-1-1'
--yapýmcý tablosunun içinin tamamý silindi.
DELETE FROM YAPIMCI
GO

--idsi 1 olan bundle silindi.
DELETE FROM BUNDLE WHERE BUNDLE_ID = 1
--adý bundle 2 olan bunle silindi.
DELETE FROM BUNDLE WHERE ADI = 'BUNDLE 2'
--fiyatý 149.99 olan bundle silindi.
DELETE FROM BUNDLE WHERE FIYAT = 149.99
--idsi 4 ve adý bundle 4 olan bundle silindi.
DELETE FROM BUNDLE WHERE BUNDLE_ID = 4 AND ADI = 'BUNDLE 4'
--adý bundle 5 olan ve fiyatý 13.99 olan bundle silindi.
DELETE FROM BUNDLE WHERE ADI = 'BUNDLE 5' AND FIYAT = 13.99
GO

--idsi 4 olan oyun silindi.
DELETE FROM OYUN WHERE OYUN_ID = 4
--idsi 6 dan büyük olan oyunlar silindi.
DELETE FROM OYUN WHERE OYUN_ID > 6
--adý destiny 2 olan oyun silindi.
DELETE FROM OYUN WHERE ADI = 'DESTINY 2'
--bundle idsi olmayan oyunlar silindi.
DELETE FROM OYUN WHERE BUNDLE_ID = NULL
--oyunlar tablosunun içi silindi.
DELETE FROM OYUN
GO

--id si 12 olan anahtar silindi.
DELETE FROM ANAHTAR WHERE ANAHTAR_ID = 12
--fiyatý 100 den az olan oyunlar silindi.
DELETE FROM ANAHTAR WHERE FIYAT < 100
--kullanýcý idsi 6 dan büyük olan anahtarlar silindi
DELETE FROM ANAHTAR WHERE KULLANICI_ID > 6
--oyun idsi 8 ya da 5 olan anahtarlar silindi.
DELETE FROM ANAHTAR WHERE OYUN_ID = 8 OR OYUN_ID = 5
--tablonun yapýsý bozulmadan içi silindi.
TRUNCATE TABLE ANAHTAR
GO

--türü futbol olan kategori silindi.
DELETE FROM KATEGORILER WHERE TUR = 'FUTBOL'
--türü tek oyunculu olan ve ya idsi 11 olan kategori silindi.
DELETE FROM KATEGORILER WHERE KATEGORI_ID = 11 OR TUR = 'TEK OYUNCULU'
--idsi 2 olan kategori silindi.
DELETE FROM KATEGORILER WHERE KATEGORI_ID = 2
--türü hack and slah olan kategoriler silindi.
DELETE FROM KATEGORILER WHERE TUR = 'HACK AND SLASH'
--kategoriler tablosu silindi.
DELETE FROM KATEGORILER
GO

--odeme turundeki adý kolonu silindi.
ALTER TABLE ODEMETURU DROP COLUMN ADI
--idsi 1 olan odeme turu silindi.
DELETE FROM ODEMETURU WHERE ODEME_ID = 1
GO

--idsi 1 olan basarým silindi.
DELETE FROM BASARIMLAR WHERE BASARIM_ID = 1
--adý baþarým 2 olan baþarým silindi.
DELETE FROM BASARIMLAR WHERE ADI = 'BASARIM 2'
--idsi 3 olan baþarým silindi.
DELETE FROM BASARIMLAR WHERE OYUN_ID = 3
--adý kolonu silindi.
ALTER TABLE BASARIMLAR DROP COLUMN ADI
--basarým tablosu silindi.
DELETE FROM BASARIMLAR
GO

--2018-05-24 tarihi dýþýndaki alýnmýþ ödüller silindi.
DELETE FROM ODULLER WHERE TARIH <> '2018-05-24'
--idsi 4 olamyan ödüller silindi. 
DELETE FROM ODULLER WHERE ODUL_ID > 4
--adý ödül 3 olmayan ödüller silindi.
DELETE FROM ODULLER WHERE ADI <> 'ODUL 3'
--tarih kolonu silindi.
ALTER TABLE ODULLER
DROP COLUMN TARIH
--ödüller tablosu silindi.
DELETE FROM ODULLER
GO

--idsi 4 olan oyunun kategorisi silindi.
DELETE FROM ICERIR WHERE OYUN_ID = 4
--idsi 4 olmayan oyunlarýn kategorileri silindi.
DELETE FROM ICERIR WHERE KATEGORI_ID <> 4
--kategori idsi 7 veya oyun idsi 3 ve kategori idsi 5 olan satur silindi.
DELETE FROM ICERIR WHERE KATEGORI_ID <> 7 OR OYUN_ID = 3 AND KATEGORI_ID = 5
--oyun idsi 1 olan be kategori idsi 1 olan satýr silindi
DELETE FROM ICERIR WHERE OYUN_ID = 1 AND KATEGORI_ID = 1
--icerir tablosu silindi.
DELETE FROM ICERIR
GO

--uður adlý kullanýcýnýn tahsilatý silindi.
DELETE FROM TAHSILAT WHERE KULLANICI_ADI = 'UÐUR'
--güvenlik kodu veya kart no su null olan tahsilatlar silindi.
DELETE FROM TAHSILAT WHERE KART_NO = NULL OR GUVENLIK_KODU = NULL
--9087236795167378 kart no ile ödenmiþ tahsilat silindi.
DELETE FROM TAHSILAT WHERE KART_NO = 9087236795167378
--kart_no sütunu silindi.
ALTER TABLE TAHSILAT
DROP COLUMN KART_NO
--tahsilat tablosu silindi.
DELETE FROM TAHSILAT

--basarým_id si üçten küçük olan basarým silindi.
DELETE FROM KAZANIR WHERE BASARIM_ID < 3
--2 id li kullanýcýnýn baþarýlarý silindi.
DELETE FROM KAZANIR WHERE KULLANICI_ID = 2
--2017-11-12 tarihli baþarýmlar silindi.
DELETE FROM KAZANIR WHERE TARIH = '2017-11-12'
--tarih sütunu silindi.
ALTER TABLE KAZANIR
DROP COLUMN TARIH
--kazanýr tablosu silindi.
DELETE FROM KAZANIR

--kullanýcý idsi 1 ve yorum idsi 1 olmayan veya 2017-1-01 tarihi dýþýndaki yorumlarý sil
DELETE FROM YORUMYAPAR WHERE KULLANICI_ID <> 1 AND YORUM_ID <> 1 OR TARIH <> '2017-1-01'
--100 altýnda beðeni almýþ yorumlarý sil
DELETE FROM YORUMYAPAR WHERE BEGEN < 100
--beðenisi beðenmemesinden yüksek olan yorumlarý sil
DELETE FROM YORUMYAPAR WHERE BEGEN > BEGENMEME
--beðenmeme sütununu sil
ALTER TABLE YORUMYAPAR
DROP COLUMN BEGENMEME
--yorumyapar tablosunu sil
DELETE FROM YORUMYAPAR